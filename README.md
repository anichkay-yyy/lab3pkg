# README: ЛР2, вариант 13 — высокочастотные фильтры, локальные и адаптивные пороги

## Состав и методы

Реализованы три группы методов согласно варианту 13:

- **Высокочастотные фильтры** (резкость):
  - Лапласиан: свёртка маской $3 \times 3$, усиление $I_{\text{sharp}} = I + \alpha \cdot \text{Laplacian}(I)$.
  - Unsharp masking: $I_{\text{blur}} = \text{Gaussian}(I, \sigma)$, маска $M = I - I_{\text{blur}}$, итог $I_{\text{sharp}} = I + \alpha M$.
- **Локальные пороговые методы**:
  - Ниблэк: $T(x, y) = \mu(x, y) + k \cdot \sigma(x, y)$.
  - Саувола: $T(x, y) = \mu(x, y) \left(1 + k \cdot \frac{\sigma(x, y)}{R} - k\right)$.
- **Адаптивный порог** (по среднему): $T(x, y) = \mu(x, y) - C$, бинаризация по локальному среднему в окне.

Для локальных методов среднее $\mu$ и СКО $\sigma$ считаются через интегральные изображения; адаптивный порог использует встроенную функцию OpenCV.

## Зависимости

`requirements.txt`:
```text
opencv-python
Pillow
numpy
```

`tkinter` входит в стандартную библиотеку (в Linux может потребоваться пакет `python3-tk`).

Установка:
```bash
pip install -r requirements.txt
```

## Запуск

```bash
python main.py
```

(Если у вас другое имя файла со скриптом — замените `main.py` на актуальное.)

## Использование

1. Нажмите «Открыть изображение» и выберите файл.
2. Выберите метод в списке:
   - «Лапласиан»: задайте `Alpha`.
   - «Unsharp»: задайте `Sigma` (размер размытия) и `Alpha`.
   - «Ниблэк» / «Саувола»: задайте нечётный «Размер окна», `k`; для Саувола — `R`.
   - «Адаптивный (средний)»: задайте «Размер окна», `C`.
3. Нажмите «Применить» — результат появится справа («До/После»).
4. Для сохранения результата — «Сохранить результат».

## Интерфейс

- Левая панель: загрузка/сохранение, выбор метода, параметры.
- Правая панель: два окна изображений (исходное, результат).

Параметры по умолчанию:
- Окно: 15 (приводится к ближайшему нечётному).
- Ниблэк: $k = -0.2$.
- Саувола: $k = 0.5$, $R = 128$.
- Адаптивный: $C = 5$.
- Лапласиан/Unsharp: $\alpha = 1.0$, $\sigma = 1.0$ (для Unsharp).

## Файлы

- `main.py` — основной скрипт с GUI и реализацией методов.
- `requirements.txt` — зависимости.
- (Опционально) `samples/` — тестовые изображения.

## Замечания

- Обработка выполняется в градациях серого; цветные изображения конвертируются.
- Результат сохраняется в выбранном формате (PNG/JPEG/BMP).
- При ошибках чтения/записи или неверных параметрах выводятся сообщения `messagebox`.
